(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(85)}])},85:function(e,t,r){"use strict";r.r(t);var o=r(5893),i=r(7294),n=r(2729),a=r.n(n);let l=()=>{let[e,t]=(0,i.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),[r,n]=(0,i.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),[l,d]=(0,i.useState)({startedTime:0,currentTime:0}),_=Math.floor((l.currentTime-l.startedTime)/1e3),c=[[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1]],s=[[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0]],m=()=>{t([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),n([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),d(e=>({...e,currentTime:Date.now()}))},f=e=>{let t=0,o=[...r];for(;t<10;){let r=Math.floor(9*Math.random()),i=Math.floor(9*Math.random());1!==e[r][i]&&1!==o[r][i]&&(o[r][i]=1,t++)}n(o)},x=(t,o)=>{if(3!==e[t][o]){let i=0;if(1!==r[t][o]){for(let e of s){let n=t+e[0],a=o+e[1];void 0!==r[t+e[0]]&&void 0!==r[t+e[0]][o+e[1]]&&1===r[n][a]&&i++}if(0===i)for(let r of(c[t][o]=0,s))void 0!==c[t+r[0]]&&void 0!==c[t+r[0]][o+r[1]]&&0!==c[t+r[0]][o+r[1]]&&3!==e[t+r[0]][o+r[1]]&&(c[t+r[0]][o+r[1]]=0,x(t+r[0],o+r[1]));0!==i&&(c[t][o]=i)}else for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===r[e][t]&&(c[e][t]=11)}};for(let t=0;t<9;t++)for(let r=0;r<9;r++)3===e[t][r]&&(c[t][r]=10),1===e[t][r]&&x(t,r);let u=(o,i)=>{let n=e.map(e=>e.map(e=>e));if(3!==e[i][o]){1===r[i][o]&&alert("爆発！"),n[i][o]=1;let a=e.some(e=>e.some(e=>1===e));a||(f(n),d(e=>({...e,startedTime:Date.now()})),d(e=>({...e,currentTime:Date.now()})),console.log(l.startedTime),setInterval(function(){d(function(e){return{...e,currentTime:Date.now()}})},1e3)),t(n)}},b=(r,o,i)=>{i&&i.preventDefault();let n=e.map(e=>e.map(e=>e));3===n[o][r]?(n[o][r]=0,t(n)):-1===c[o][r]&&(n[o][r]=3,t(n))};return(0,o.jsx)("div",{className:a().container,children:(0,o.jsxs)("div",{className:a().lowboard,children:[(0,o.jsx)("div",{className:a().reset,onClick:m}),(0,o.jsx)("div",{className:a().timer,children:(0,o.jsx)("a",{children:_})}),(0,o.jsx)("div",{className:a().board,children:c.map((e,t)=>e.map((e,r)=>(0,o.jsx)("div",{className:a().cell,style:{borderTopColor:-1===e||10===e?"rgb(255 255 255)":"rgb(74 74 74)",borderRightColor:-1===e||10===e?"rgb(134 134 134)":"rgb(74 74 74)",borderBottomColor:-1===e||10===e?"rgb(134 134 134)":"rgb(74 74 74)",borderLeftColor:-1===e||10===e?"rgb(255 255 255)":"rgb(74 74 74)",borderWidth:-1===e||10===e?"4px":"0.5px"},onClick:()=>u(r,t),onContextMenu:e=>b(r,t,e),children:0!==e&&(0,o.jsx)("div",{className:a().tile,style:{backgroundPosition:"-".concat((e-1)*30,"px"),opacity:-1===e?0:1}})},"".concat(r,"-").concat(t))))})]})})};t.default=l},2729:function(e){e.exports={container:"index_container__gnN1f",main:"index_main__kAcUb",footer:"index_footer__qq_p6",title:"index_title__gEapU",description:"index_description__087sm",code:"index_code__VeCgy",grid:"index_grid__FmmIe",card:"index_card__kAxi6",logo:"index_logo__FcDOZ",lowboard:"index_lowboard__V6t7U",board:"index_board__2d6xe",cell:"index_cell__3W8ZQ",tile:"index_tile__BL_fN",reset:"index_reset__pnorU",timer:"index_timer__azvpY"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);